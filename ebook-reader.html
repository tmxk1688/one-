<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="icon" href="photo/logo.png" type="image/png">
    <link rel="shortcut icon" href="photo/logo.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µå­ä¹¦é˜…è¯» - å¤©é©¬è¡Œç©ºåˆ›æ„ç½‘</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background-color: #f5f5f5; color: #333; }
        .container { width: 1200px; margin: 0 auto; }
        
        /* Header */
        header { background-color: #fff; padding: 10px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .header-content { display: flex; justify-content: space-between; align-items: center; }
        .logo {
            display: flex;
            align-items: center;
            font-weight: bold;
            color: #0066cc;
        }
        .logo img { margin-right: 10px; height: 50px; }
        .logo-main { font-size: 24px; margin-bottom: 2px; }
        .logo-sub { font-size: 12px; color: #666; font-weight: normal; }
        .search { display: flex; }
        .search input { padding: 8px; width: 300px; border: 1px solid #ddd; border-radius: 4px 0 0 4px; }
        .search button { padding: 8px 15px; background-color: #0066cc; color: white; border: none; border-radius: 0 4px 4px 0; cursor: pointer; }
        
        /* Navigation */
        nav { background-color: #0066cc; margin-top: 10px; }
        nav ul { display: flex; list-style: none; }
        nav ul li { position: relative; }
        nav ul li a { display: block; padding: 15px 20px; color: white; text-decoration: none; transition: background-color 0.3s; }
        nav ul li a:hover { background-color: #0052a3; }
        nav ul li .dropdown { display: none; position: absolute; top: 100%; left: 0; background-color: #0066cc; min-width: 200px; z-index: 1000; }
        nav ul li:hover .dropdown { display: block; }
        nav ul li .dropdown li { display: block; }
        
        /* Banner */
        .banner {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
            margin-top: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        /* Main Content */
        .main-content { display: flex; margin-top: 20px; gap: 20px; }
        
        /* Sidebar */
        .sidebar {
            width: 300px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .sidebar-section {
            padding: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .sidebar-section h3 {
            color: #0066cc;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .book-category {
            margin-bottom: 15px;
        }
        
        .book-category h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .book-list {
            list-style: none;
        }
        
        .book-list li {
            margin-bottom: 10px;
            cursor: pointer;
            padding: 8px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        .book-list li:hover {
            background-color: #f0f0f0;
        }
        
        /* Reader Content */
        .reader-content {
            flex: 1;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-radius: 8px;
            padding: 20px;
            min-height: 600px;
        }
        
        .reader-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .reader-title {
            font-size: 24px;
            color: #0066cc;
        }
        
        .reader-controls {
            display: flex;
            gap: 10px;
        }
        
        .control-btn {
            padding: 8px 15px;
            background-color: #f0f0f0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .control-btn:hover {
            background-color: #e0e0e0;
        }
        
        /* Book Display */
        .book-display {
            background-color: #fafafa;
            padding: 30px;
            border-radius: 8px;
            min-height: 400px;
            line-height: 1.8;
            font-size: 16px;
        }
        
        .book-info {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .book-cover {
            width: 150px;
            height: 200px;
            margin: 0 auto 15px;
            background-color: #eee;
            border-radius: 4px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .book-meta {
            margin-bottom: 20px;
            color: #666;
        }
        
        .book-chapters {
            margin-top: 20px;
        }
        
        .chapter-list {
            list-style: none;
        }
        
        .chapter-list li {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #fff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .chapter-list li:hover {
            background-color: #f0f0f0;
            transform: translateX(5px);
        }
        
        /* Footer */
        footer { background-color: #333; color: white; text-align: center; padding: 20px 0; margin-top: 30px; }
        
        /* Loading */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 200px;
            color: #666;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0066cc;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-right: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <!-- æ–°å¹´ä¸»é¢˜æ ·å¼ -->
    <link rel="stylesheet" href="css/newyear.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="photo/logo.png" alt="Logo">
                <div>
                    <div class="logo-main">å¤©é©¬è¡Œç©ºåˆ›æ„ç½‘</div>
                    <div class="logo-sub">TianMa Creative Network</div>
                </div>
            </div>
            <div class="search">
                <input type="text" placeholder="æœç´¢...">
                <button>ğŸ”</button>
            </div>
        </div>
    </header>
    
    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">é¦–é¡µ</a></li>
                <li><a href="about.html">å…³äºæˆ‘ä»¬</a></li>
                <li>
                    <a href="#">æœåŠ¡ç³»ç»Ÿ</a>
                    <ul class="dropdown">
                        <li><a href="team-info.html">å›¢é˜Ÿæ¡£æ¡ˆä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿ</a></li>
                        <li><a href="https://v.kaoshixing.com/exam/aiInterview/pc/#/list" target="_blank">å›¢é˜Ÿè€ƒæ ¸ç³»ç»Ÿ</a></li>
                    </ul>
                </li>
                <li><a href="https://work.weixin.qq.com/wework_admin/frame#/index" target="_blank">å·¥ä½œç³»ç»Ÿ</a></li>
                <li>
                    <a href="#">ä¸‹è½½ä¸“åŒº</a>
                    <ul class="dropdown">
                        <li><a href="download-materials.html">èµ„æ–™</a></li>
                        <li><a href="download-software.html">è½¯ä»¶</a></li>
                    </ul>
                </li>
                <li><a href="video.html">è§†é¢‘åŒº</a></li>
            </ul>
        </div>
    </nav>
    
    <div class="banner">
        <div class="container banner-content">
            <h1>ç”µå­ä¹¦é˜…è¯»</h1>
            <p>åœ¨çº¿æµè§ˆç²¾å½©ç”µå­ä¹¦ï¼Œä¸°å¯Œä½ çš„çŸ¥è¯†ä¸–ç•Œ</p>
        </div>
    </div>
    
    <div class="container main-content">
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>åˆ†ç±»æµè§ˆ</h3>
                <div class="book-category">
                    <h4>æ¨èä¹¦ç±</h4>
                    <ul class="book-list" id="recommendedBooks">
                        <!-- æ¨èä¹¦ç±å°†é€šè¿‡APIåŠ è½½ -->
                    </ul>
                </div>
                
                <div class="book-category">
                    <h4>çƒ­é—¨åˆ†ç±»</h4>
                    <ul class="book-list">
                        <li onclick="loadBooksByCategory('æŠ€æœ¯')">æŠ€æœ¯</li>
                        <li onclick="loadBooksByCategory('æ–‡å­¦')">æ–‡å­¦</li>
                        <li onclick="loadBooksByCategory('å†å²')">å†å²</li>
                        <li onclick="loadBooksByCategory('è‰ºæœ¯')">è‰ºæœ¯</li>
                        <li onclick="loadBooksByCategory('å•†ä¸š')">å•†ä¸š</li>
                    </ul>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3>æˆ‘çš„ä¹¦æ¶</h3>
                <ul class="book-list" id="myBookshelf">
                    <!-- æˆ‘çš„ä¹¦æ¶å°†é€šè¿‡APIåŠ è½½ -->
                </ul>
            </div>
        </aside>
        
        <main class="reader-content">
            <div class="reader-header">
                <h2 class="reader-title" id="bookTitle">è¯·é€‰æ‹©ä¸€æœ¬ä¹¦ç±</h2>
                <div class="reader-controls">
                    <button class="control-btn" onclick="prevPage()">ä¸Šä¸€é¡µ</button>
                    <button class="control-btn" onclick="nextPage()">ä¸‹ä¸€é¡µ</button>
                    <select class="control-btn" onchange="changeFontSize(this.value)">
                        <option value="14">å°</option>
                        <option value="16" selected>ä¸­</option>
                        <option value="18">å¤§</option>
                        <option value="20">ç‰¹å¤§</option>
                    </select>
                </div>
            </div>
            
            <div class="book-display" id="bookDisplay">
                <div class="loading">
                    <div class="spinner"></div>
                    <span>åŠ è½½ä¹¦ç±åˆ—è¡¨...</span>
                </div>
            </div>
        </main>
    </div>
    
    <footer>
        <div class="container">
            <p>Â© 2024 å¤©é©¬è¡Œç©ºåˆ›æ„ç½‘. ä¿ç•™æ‰€æœ‰æƒåˆ©. <a href="http://m.tmxkcy.xyz" target="_blank" style="color: #0066cc; text-decoration: none;">æ‰‹æœºç‰ˆ</a></p>
        </div>
    </footer>
    
    <script>
        // ç”µå­ä¹¦APIé…ç½®
        const EBOOK_API_URL = 'https://api.example.com/ebooks'; // å®é™…APIåœ°å€
        let currentBook = null;
        let currentPage = 1;
        let fontSize = 16;
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadRecommendedBooks();
            loadMyBookshelf();
        });
        
        // åŠ è½½æ¨èä¹¦ç±
        async function loadRecommendedBooks() {
            const recommendedBooksList = document.getElementById('recommendedBooks');
            recommendedBooksList.innerHTML = '<li style="text-align: center; color: #666;">åŠ è½½ä¸­...</li>';
            
            try {
                // æ¨¡æ‹ŸAPIè¯·æ±‚
                // const response = await fetch(`${EBOOK_API_URL}/recommended`);
                // const books = await response.json();
                
                // æ¨¡æ‹Ÿæ•°æ®
                const books = [
                    { id: 1, title: 'JavaScripté«˜çº§ç¨‹åºè®¾è®¡', author: 'Nicholas C. Zakas' },
                    { id: 2, title: 'Pythonç¼–ç¨‹ï¼šä»å…¥é—¨åˆ°å®è·µ', author: 'Eric Matthes' },
                    { id: 3, title: 'è®¾è®¡æ¨¡å¼', author: 'Erich Gamma' },
                    { id: 4, title: 'ç®—æ³•å¯¼è®º', author: 'Thomas H. Cormen' }
                ];
                
                recommendedBooksList.innerHTML = '';
                books.forEach(book => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <strong>${book.title}</strong><br>
                        <small>${book.author}</small>
                    `;
                    li.onclick = () => loadBook(book.id);
                    recommendedBooksList.appendChild(li);
                });
            } catch (error) {
                console.error('åŠ è½½æ¨èä¹¦ç±å¤±è´¥:', error);
                recommendedBooksList.innerHTML = '<li style="text-align: center; color: #ff0000;">åŠ è½½å¤±è´¥</li>';
            }
        }
        
        // æŒ‰åˆ†ç±»åŠ è½½ä¹¦ç±
        async function loadBooksByCategory(category) {
            const recommendedBooksList = document.getElementById('recommendedBooks');
            recommendedBooksList.innerHTML = '<li style="text-align: center; color: #666;">åŠ è½½ä¸­...</li>';
            
            try {
                // æ¨¡æ‹ŸAPIè¯·æ±‚
                // const response = await fetch(`${EBOOK_API_URL}/category/${encodeURIComponent(category)}`);
                // const books = await response.json();
                
                // æ¨¡æ‹Ÿæ•°æ®
                const books = [
                    { id: 5, title: `${category}å…¥é—¨æŒ‡å—`, author: 'ä¸“å®¶ä½œè€…' },
                    { id: 6, title: `${category}è¿›é˜¶å®æˆ˜`, author: 'è¡Œä¸šä¸“å®¶' },
                    { id: 7, title: `${category}ç»å…¸æ¡ˆä¾‹`, author: 'çŸ¥åä½œå®¶' }
                ];
                
                recommendedBooksList.innerHTML = '';
                books.forEach(book => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <strong>${book.title}</strong><br>
                        <small>${book.author}</small>
                    `;
                    li.onclick = () => loadBook(book.id);
                    recommendedBooksList.appendChild(li);
                });
            } catch (error) {
                console.error(`åŠ è½½${category}åˆ†ç±»ä¹¦ç±å¤±è´¥:', error`);
                recommendedBooksList.innerHTML = '<li style="text-align: center; color: #ff0000;">åŠ è½½å¤±è´¥</li>';
            }
        }
        
        // åŠ è½½æˆ‘çš„ä¹¦æ¶
        async function loadMyBookshelf() {
            const myBookshelf = document.getElementById('myBookshelf');
            myBookshelf.innerHTML = '<li style="text-align: center; color: #666;">åŠ è½½ä¸­...</li>';
            
            try {
                // æ¨¡æ‹ŸAPIè¯·æ±‚
                // const response = await fetch(`${EBOOK_API_URL}/bookshelf`);
                // const books = await response.json();
                
                // æ¨¡æ‹Ÿæ•°æ®
                const books = [
                    { id: 1, title: 'JavaScripté«˜çº§ç¨‹åºè®¾è®¡', author: 'Nicholas C. Zakas' },
                    { id: 3, title: 'è®¾è®¡æ¨¡å¼', author: 'Erich Gamma' }
                ];
                
                myBookshelf.innerHTML = '';
                if (books.length === 0) {
                    myBookshelf.innerHTML = '<li style="text-align: center; color: #666;">ä¹¦æ¶ä¸ºç©º</li>';
                    return;
                }
                
                books.forEach(book => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <strong>${book.title}</strong><br>
                        <small>${book.author}</small>
                    `;
                    li.onclick = () => loadBook(book.id);
                    myBookshelf.appendChild(li);
                });
            } catch (error) {
                console.error('åŠ è½½æˆ‘çš„ä¹¦æ¶å¤±è´¥:', error);
                myBookshelf.innerHTML = '<li style="text-align: center; color: #ff0000;">åŠ è½½å¤±è´¥</li>';
            }
        }
        
        // åŠ è½½ä¹¦ç±è¯¦æƒ…
        async function loadBook(bookId) {
            const bookDisplay = document.getElementById('bookDisplay');
            const bookTitle = document.getElementById('bookTitle');
            
            bookDisplay.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <span>åŠ è½½ä¹¦ç±å†…å®¹...</span>
                </div>
            `;
            
            try {
                // æ¨¡æ‹ŸAPIè¯·æ±‚
                // const response = await fetch(`${EBOOK_API_URL}/${bookId}`);
                // const book = await response.json();
                
                // æ¨¡æ‹Ÿä¹¦ç±æ•°æ®
                const book = {
                    id: bookId,
                    title: 'JavaScripté«˜çº§ç¨‹åºè®¾è®¡',
                    author: 'Nicholas C. Zakas',
                    cover: 'https://example.com/book-cover.jpg',
                    description: 'æœ¬ä¹¦æ˜¯JavaScripté¢†åŸŸçš„ç»å…¸è‘—ä½œï¼Œå…¨é¢ä»‹ç»äº†JavaScriptçš„æ ¸å¿ƒæ¦‚å¿µå’Œé«˜çº§ç‰¹æ€§ã€‚',
                    chapters: [
                        { id: 1, title: 'ç¬¬ä¸€ç« ï¼šJavaScriptæ¦‚è¿°', content: 'JavaScriptæ˜¯ä¸€ç§è½»é‡çº§çš„ç¼–ç¨‹è¯­è¨€...' },
                        { id: 2, title: 'ç¬¬äºŒç« ï¼šHTMLä¸­çš„JavaScript', content: 'åœ¨HTMLé¡µé¢ä¸­ä½¿ç”¨JavaScript...' },
                        { id: 3, title: 'ç¬¬ä¸‰ç« ï¼šåŸºæœ¬æ¦‚å¿µ', content: 'JavaScriptçš„åŸºæœ¬è¯­æ³•å’Œæ•°æ®ç±»å‹...' }
                    ]
                };
                
                currentBook = book;
                currentPage = 1;
                
                bookTitle.textContent = book.title;
                
                bookDisplay.innerHTML = `
                    <div class="book-info">
                        <div class="book-cover">
                            <img src="${book.cover}" alt="${book.title}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;">
                        </div>
                        <h3>${book.title}</h3>
                        <p>ä½œè€…ï¼š${book.author}</p>
                        <p style="color: #666; margin-top: 10px;">${book.description}</p>
                    </div>
                    
                    <div class="book-chapters">
                        <h3>ç›®å½•</h3>
                        <ul class="chapter-list">
                            ${book.chapters.map(chapter => `
                                <li onclick="loadChapter(${chapter.id})">
                                    ${chapter.title}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            } catch (error) {
                console.error('åŠ è½½ä¹¦ç±å¤±è´¥:', error);
                bookDisplay.innerHTML = '<p style="text-align: center; color: #ff0000;">åŠ è½½ä¹¦ç±å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•</p>';
            }
        }
        
        // åŠ è½½ç« èŠ‚å†…å®¹
        function loadChapter(chapterId) {
            if (!currentBook) return;
            
            const chapter = currentBook.chapters.find(ch => ch.id === chapterId);
            if (!chapter) return;
            
            const bookDisplay = document.getElementById('bookDisplay');
            
            bookDisplay.innerHTML = `
                <h3>${chapter.title}</h3>
                <div id="chapterContent" style="margin-top: 20px; font-size: ${fontSize}px; line-height: 1.8;">
                    ${chapter.content}
                    <p style="margin-top: 30px; color: #666;">... ç« èŠ‚å†…å®¹ç»§ç»­ ...</p>
                </div>
            `;
        }
        
        // ä¸Šä¸€é¡µ
        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updatePageDisplay();
            }
        }
        
        // ä¸‹ä¸€é¡µ
        function nextPage() {
            currentPage++;
            updatePageDisplay();
        }
        
        // æ›´æ–°é¡µç æ˜¾ç¤º
        function updatePageDisplay() {
            // å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œä¼šæ ¹æ®currentPageåŠ è½½å¯¹åº”å†…å®¹
            console.log('å½“å‰é¡µç :', currentPage);
        }
        
        // æ›´æ”¹å­—ä½“å¤§å°
        function changeFontSize(size) {
            fontSize = parseInt(size);
            const chapterContent = document.getElementById('chapterContent');
            if (chapterContent) {
                chapterContent.style.fontSize = `${fontSize}px`;
            }
        }
        
        // æ·»åŠ åˆ°ä¹¦æ¶
        function addToBookshelf(bookId) {
            // æ¨¡æ‹ŸAPIè¯·æ±‚
            // fetch(`${EBOOK_API_URL}/${bookId}/add-to-shelf`, {
            //     method: 'POST'
            // });
            
            alert('å·²æ·»åŠ åˆ°ä¹¦æ¶');
            loadMyBookshelf(); // åˆ·æ–°æˆ‘çš„ä¹¦æ¶
        }
    </script>
    <!--Start of Gullchat.com Script-->
    <script id="gullchat-widget-js" src="https://code.gullchat.com/widget.js?mode=production&wid=693ea57a0ee55c23ceff491f&pid=693ea2fc328f7e8be297b5dc&fm=normal&lt=default"></script>
    <!--End of Gullchat.com Script-->
</body>
</html>